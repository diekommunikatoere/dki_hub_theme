/**
 * Copy Field Block - Editor styles
 * Styles that apply only in the WordPress block editor
 */

.wp-block-dki-wiki-copy-field {
	.copy-field-wrapper {
		border: 1px solid var(--wp--preset--color--tertiary-light, #ddd);
		border-radius: 6px;
		overflow: hidden;
		padding: 1rem;
		background-color: var(--wp--preset--color--background-alt);

		.copy-field-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 6px 6px 6px 16px;
			background-color: var(--wp--preset--color--background);
			border-radius: 6px 6px 0 0;

			.copy-field-label {
				font-weight: 600;
				color: var(--wp--preset--color--contrast, #1a1a1a);
				font-size: 1rem;
				margin-bottom: 0.5rem;
				display: block;
			}

			.copy-field-button {
				display: flex;
				align-items: center;
				gap: 0.5rem;
				padding: 0.75rem 1rem;
				background-color: var(--wp--preset--color--tertiary-light, #ddd);
				color: var(--wp--preset--color--tertiary, #757575);
				cursor: not-allowed;
				border: none;
				border-radius: 6px;
				font-size: 0.875rem;
				font-weight: 500;
				white-space: nowrap;
				transition: all 0.2s ease;
				min-height: 2.5rem;

				svg {
					width: 16px;
					height: 16px;
					flex-shrink: 0;
				}
			}
		}

		.copy-field-content-wrapper {
			display: flex;
			gap: 0.5rem;
			align-items: flex-start;

			.copy-field-richtext {
				flex: 1;
				min-height: 2.5rem;
				padding: 0.75rem;
				font-family: inherit;
				font-size: 1rem;
				line-height: 1.5;
				transition: border-color 0.2s ease;

				&:focus {
					outline: none;
					border-color: var(--wp--preset--color--primary, #007cba);
					box-shadow: 0 0 0 1px var(--wp--preset--color--primary, #007cba);
				}

				&[aria-placeholder]:empty::before {
					content: attr(aria-placeholder);
					color: var(--wp--preset--color--tertiary, #757575);
					font-style: italic;
				}
			}

			.copy-field-richtext-compressed {
				flex: 1;
				min-height: 1em;
				padding: 6px 6px 6px 16px;
				font-family: inherit;
				font-size: 1rem;
				line-height: 1.5;
				transition: border-color 0.2s ease;

				&:focus {
					outline: none;
					border-color: var(--wp--preset--color--primary, #007cba);
					box-shadow: 0 0 0 1px var(--wp--preset--color--primary, #007cba);
				}

				&[aria-placeholder]:empty::before {
					content: attr(aria-placeholder);
					color: var(--wp--preset--color--tertiary, #757575);
					font-style: italic;
				}
			}

			.copy-field-code-editor {
				flex: 1;
				min-height: 6rem;
				font-family: "Monaco", "Consolas", "Courier New", monospace;
				font-size: 0.875rem;
				line-height: 1.5;
				overflow-x: hidden;

				.cm-editor {
					height: 100%;

					.cm-scroller {
						overflow: auto;
					}
				}
				overflow: hidden;
				background-color: var(--wp--preset--color--base, #fff);
			}
		}

		.copy-field-content-wrapper:has(.copy-field-code) {
			background-color: #282c34;
			overflow-x: hidden;

			textarea {
				width: 100%;
				max-width: 100%;
				margin: 0;
				padding: 0;
				background: transparent;
				border: none;
				border-radius: 0;
				font-size: 0.875rem;
				line-height: 1.5;
				overflow-x: hidden;
			}

			.cm-editor {
				height: 100%;

				.cm-scroller {
					overflow: auto;
				}
			}
		}

		.copy-field-language-label {
			align-items: center;
			padding: 6px 6px 6px 16px;
			background-color: var(--wp--preset--color--background-alt);
			font-size: 0.75rem;
			color: var(--wp--preset--color--tertiary, #757575);
			font-style: italic;
		}
	}
}
